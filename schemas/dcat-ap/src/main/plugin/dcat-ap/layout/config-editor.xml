<?xml version="1.0" encoding="UTF-8"?>

<editor xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
        xmlns:dc="http://purl.org/dc/elements/1.1/"
        xmlns:dct="http://purl.org/dc/terms/"
        xmlns:dcat="http://www.w3.org/ns/dcat#"
		xmlns:vcard="http://www.w3.org/2006/vcard/ns#"
		xmlns:foaf="http://xmlns.com/foaf/0.1/" 
        xsi:noNamespaceSchemaLocation="../../../../../../config-editor.xsd">

  <!-- Define form field types per metadata element. -->
  <fields>
	<for name="dct:title" use="textarea"/>
    <for name="dct:description" use="textarea"/>
    <for name="vcard:hasEmail" use="email"/>
    <for name="dct:issued" use="data-gn-date-picker"/>  
    <for name="dcat:theme" use="data-gn-keyword-picker"/>
    <for name="dcat:keyword" use="data-gn-keyword-picker"/>
    <for name="dct:language" use="data-gn-language-picker"/>    
  </fields>
  
  <!-- Complex fields. -->
  <fieldsWithFieldset>
  	<name>dcat:Dataset</name>
  	<name>dcat:distribution</name>
  </fieldsWithFieldset>


  <!-- View configuration -->
  <views>
    <view name="default">
      <tab id="default" default="true" mode="flat">
        <section name="dcat:Dataset">
			<field xpath="/dcat:Dataset/dct:identifier"/>
        	<field name="dct:title"
		       xpath="/dcat:Dataset/dct:title"
		       or="title"
		       in="/dcat:Dataset/*"
		       del="."/>
        	<field name="dct:description"
		       xpath="/dcat:Dataset/dct:description"
		       or="description"
		       in="/dcat:Dataset/*"
		       del="."/>
        	<field name="dcat:landingPage"
		       xpath="/dcat:Dataset/dcat:landingPage"
		       or="landingPage"
		       in="/dcat:Dataset/*"
		       del="."/>
	        <section name="dcat:contactPoint">
	        	<field name="vcardFn"
			       xpath="/dcat:Dataset/dcat:contactPoint/vcard:Organization/vcard:fn"
			       or="fn"
			       in="/dcat:Dataset/dcat:contactPoint/vcard:Organization/*"
			       del="."/>		             
	        	<field name="vcard:hasEmail"
			       xpath="/dcat:Dataset/dcat:contactPoint/vcard:Organization/vcard:hasEmail"
			       or="hasEmail"
			       in="/dcat:Dataset/dcat:contactPoint/vcard:Organization/*"
			       del="."/>		             
        	</section>
        	<field name="dcat:theme"
		       xpath="/dcat:Dataset/dcat:theme"
		       or="theme"
		       in="/dcat:Dataset/*"
		       del="."/>
        	<field name="dcat:keyword"
		       xpath="/dcat:Dataset/dcat:keyword"
		       or="keyword"
		       in="/dcat:Dataset/*"
		       del="."/>	
        	<section name="dct:publisher">
	        	<field name="foaf:name"
			       xpath="/dcat:Dataset/dct:publisher/foaf:Agent/foaf:name"
			       or="name"
			       in="/dcat:Dataset/dct:publisher/foaf:Agent/*"
			       del="."/>
		    </section>
        	<field name="dct:issued"
        	use="gn-date-picker"
		       xpath="/dcat:Dataset/dct:issued"
		       or="issued"
		       in="/dcat:Dataset/*"
		       del="."/>
        	<field name="dct:spatial"
		       xpath="/dcat:Dataset/dct:spatial"
		       or="spatial"
		       in="/dcat:Dataset/*"
		       del="."/>     	       		       			       
		</section>      
<!--
		<section name="distribution">
			<field xpath="/dcat:distribution" />
	        	<action type="add"
	        		forceLabel="true" 
	        		name="sds-addOperation" 
	        		or="distribution" 
	        		in="/dcat:Dataset/*"
					if="count(/dcat:Dataset/dcat:distribution/dcat:Distribution) > 0">
				<template>
					<snippet>
						<dcat:distribution>
							<dcat:Distribution>
								<dcat:accessURL></dcat:accessURL>
								<dct:description xml:lang="nl"></dct:description>
								<dct:format></dct:format>
								<dct:title xml:lang="nl"></dct:title>
							</dcat:Distribution>
						</dcat:distribution>
					</snippet>
				</template>
			</action>
		</section>
      	<section name="dcat:Distribution">
	        <field name="dcat:Distribution" templateModeOnly="true" notDisplayedIfMissing="true"
	               xpath="/dcat:Distribution"
	               del="..">
	          <template>
	            <values>
	              <key label="dcat:accessURL" xpath="dcat:accessURL"/>
	              <key label="dct:description" xpath="dct:description"/>
	              <key label="dct:format" xpath="dct:format"/>
	              <key label="dct:title" xpath="dct:title"/>
	            </values>
	            <snippet>
	              <dcat:Distribution>
						<dcat:accessURL>{{dcat:accessURL}}</dcat:accessURL>
						<dct:description xml:lang="nl">{{dct:description}}</dct:description>
						<dct:format>{{dct:format}}</dct:format>
						<dct:title xml:lang="nl">{{dct:title}}</dct:title>
	              </dcat:Distribution>
	            </snippet>
	          </template>
	        </field>
        </section> 
-->
      </tab>
     
      <flatModeExceptions>
        <for name="dcat:distribution"/>
        <for name="dcat:theme"/>
        <for name="dcat:keyword"/>
      </flatModeExceptions>

      <thesaurusList>
		  <thesaurus key="theme.data-theme-skos"
		             maxtags="5"
		             transformations=""/>
		  <thesaurus key="temporal.frequencies-skos"
		             maxtags="5"
		             transformations=""/>		             
	  </thesaurusList>
      
    </view>
    <view name="xml">
      <tab id="xml" default="true"/>
    </view>
  </views>
  <batchEditing>
    <section name="identification">
      <field name="title" xpath="dct:title"></field>
    </section>
  </batchEditing>
</editor>
